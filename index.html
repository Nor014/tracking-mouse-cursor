<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<title>Отслеживание указателя мыши</title>
	<link rel="stylesheet" href="css/style.css">
</head>

<body>
	<div class="cat">

		<div class="cat_position_for_left_eye">
			<span class="cat_eye cat_eye_left"></span>
		</div>

		<div class="cat_position_for_right_eye">
			<span class="cat_eye cat_eye_right"></span>
		</div>

	</div>
	<script>
		const eyes = document.querySelectorAll('.cat_eye')

		const leftEye = document.querySelector('.cat_eye_left')
		const possitionForLeftEye = document.querySelector('.cat_position_for_left_eye')
		const cat = document.querySelector('.cat')

		let minLeftX = 0;
		let minLeftY = 0;
		let maxLeftX = possitionForLeftEye.offsetWidth - leftEye.offsetWidth;
		let maxLeftY = possitionForLeftEye.offsetHeight - leftEye.offsetHeight;


		function moveEyes(el) {

			document.addEventListener('mousemove', (event) => {
				// уравниваем систему координат

				let x = (event.pageX - cat.offsetLeft - el.parentNode.offsetLeft - el.offsetLeft) >= 0 ? event.pageX - cat.offsetLeft - el.parentNode.offsetLeft - el.offsetLeft : 0
				let y = (event.pageY - cat.offsetTop - el.parentNode.offsetTop - el.offsetTop) >= 0 ? event.pageY - cat.offsetTop - el.parentNode.offsetTop - el.offsetTop : 0;

				x = Math.min(maxLeftX, x)
				y = Math.min(maxLeftY, y)

				el.style.left = x + 'px'
				el.style.top = y + 'px'
			})
		}

		eyes.forEach(el => moveEyes(el))

	</script>
</body>

</html>